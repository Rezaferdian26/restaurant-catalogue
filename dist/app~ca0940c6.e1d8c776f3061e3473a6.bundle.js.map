{"version":3,"file":"app~ca0940c6.e1d8c776f3061e3473a6.bundle.js","mappings":"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","sources":["webpack://restaurant-apps/./src/scripts/views/app.js","webpack://restaurant-apps/./src/scripts/views/pages/detail-restaurant.js","webpack://restaurant-apps/./src/scripts/views/pages/favorite.js","webpack://restaurant-apps/./src/scripts/views/pages/list-restaurant.js","webpack://restaurant-apps/./src/scripts/views/templates/template-creator.js"],"sourcesContent":["import DrawerInitiator from '../utils/drawer-initiator';\r\nimport UrlParser from '../routes/url-parser';\r\nimport routes from '../routes/routes';\r\nimport SearchInitiator from '../utils/search-initiator';\r\n\r\nclass App {\r\n  constructor({\r\n    button, drawer, content, header,\r\n  }) {\r\n    this._button = button;\r\n    this._drawer = drawer;\r\n    this._content = content;\r\n    this._header = header;\r\n\r\n    this._initialAppShell();\r\n  }\r\n\r\n  _initialAppShell() {\r\n    DrawerInitiator.init({\r\n      button: this._button,\r\n      drawer: this._drawer,\r\n      content: this._content,\r\n      header: this._header,\r\n    });\r\n\r\n    // eslint-disable-next-line no-unused-vars\r\n    const userSearch = new SearchInitiator();\r\n  }\r\n\r\n  async renderPage() {\r\n    const url = UrlParser.parseActiveUrlWithCombiner();\r\n    const page = routes[url];\r\n    const skipLinkElem = document.querySelector('.skip-link');\r\n    skipLinkElem.addEventListener('click', (event) => {\r\n      event.preventDefault();\r\n      document.querySelector('#mainContent').focus();\r\n    });\r\n    this._content.innerHTML = await page.render();\r\n    await page.afterRender();\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import UrlParser from '../../routes/url-parser';\r\nimport RestaurantApiSource from '../../data/restaurant-api-source';\r\nimport UserReview from '../../utils/user-review';\r\nimport LikeButtonPresenter from '../../utils/like-button-presenter';\r\nimport {\r\n  createRestaurantDetailTemplate,\r\n  createRestaurantMenuFoods,\r\n  createRestaurantMenuDrinks,\r\n  createRestaurantCategories,\r\n  createCustomerReviewsBox,\r\n} from '../templates/template-creator';\r\nimport FavoriteRestaurantIdb from '../../data/favorite-restaurant-idb';\r\n\r\nconst DetailRestaurant = {\r\n  async render() {\r\n    return `\r\n          <section></section>\r\n          <div id=\"likeButtonContainer\"></div>\r\n      `;\r\n  },\r\n\r\n  async afterRender() {\r\n    try {\r\n      const restaurantContainer = document.querySelector('section');\r\n      document.querySelector('#search-bar input').value = '';\r\n      const url = UrlParser.parseActiveUrlWithoutCombiner();\r\n      const restaurant = await RestaurantApiSource.detail(url.id);\r\n      restaurantContainer.innerHTML = createRestaurantDetailTemplate(restaurant);\r\n      LikeButtonPresenter.init({\r\n        likeButtonContainer: document.querySelector('#likeButtonContainer'),\r\n        favoriteRestaurants: FavoriteRestaurantIdb,\r\n        restaurant: {\r\n          id: restaurant.id,\r\n          name: restaurant.name,\r\n          description: restaurant.description,\r\n          pictureId: restaurant.pictureId,\r\n          city: restaurant.city,\r\n          address: restaurant.address,\r\n          rating: restaurant.rating,\r\n        },\r\n      });\r\n      createRestaurantMenuFoods(restaurant);\r\n      createRestaurantMenuDrinks(restaurant);\r\n      createRestaurantCategories(restaurant);\r\n      createCustomerReviewsBox(restaurant);\r\n      UserReview.add(url.id);\r\n    } catch {\r\n      const section = document.querySelector('section');\r\n      section.innerHTML = `\r\n      <div tabindex=\"0\" id=\"error-page\">\r\n        <h3 class=\"text-center\">Koneksi internetmu terganggu</h3>\r\n        <p class=\"text-center\">Pastikan internetmu lancar dengan cek ulang paket data, WIFI, atau jaringan di tempatmu</p>\r\n        <button class=\"refresh\">Coba lagi</button>\r\n      </div>\r\n      `;\r\n      const button = document.querySelector('button.refresh');\r\n      button.addEventListener('click', () => {\r\n        window.location.reload();\r\n      });\r\n    }\r\n  },\r\n};\r\n\r\nexport default DetailRestaurant;\r\n","import FavoriteRestaurantIdb from '../../data/favorite-restaurant-idb';\r\nimport { createRestaurantItemTemplate } from '../templates/template-creator';\r\n\r\nconst Favorite = {\r\n  async render() {\r\n    return `\r\n      <section>\r\n        <h2 tabindex=\"0\" id=\"maincontent\" class=\"text-center\">Favorite Restaurant</h2>\r\n        <div id=\"content\">TES</div>  \r\n      </section>\r\n      `;\r\n  },\r\n\r\n  async afterRender() {\r\n    const restaurants = await FavoriteRestaurantIdb.getAllRestaurants();\r\n    if (restaurants.length === 0) {\r\n      const section = document.querySelector('section');\r\n      section.innerHTML = `\r\n      <div tabindex=\"0\">\r\n        <h3 class=\"text-center restaurant-item__not__found\" style=\"margin-top:40px\">Favorite kosong</h3>\r\n        <p class=\"text-center\">Silahkan tambahkan restaurant ke favorite!</p>\r\n        <button class=\"refresh\">Kembali</button>\r\n      </div>\r\n      `;\r\n      const button = document.querySelector('button.refresh');\r\n      button.addEventListener('click', () => {\r\n        window.location = '#';\r\n      });\r\n    } else {\r\n      const restaurantsContainer = document.querySelector('#content');\r\n      restaurantsContainer.innerHTML = '';\r\n      restaurants.forEach((restaurant) => {\r\n        restaurantsContainer.innerHTML += createRestaurantItemTemplate(restaurant);\r\n      });\r\n    }\r\n  },\r\n};\r\n\r\nexport default Favorite;\r\n","import RestaurantApiSource from '../../data/restaurant-api-source';\r\nimport { createRestaurantItemTemplate } from '../templates/template-creator';\r\n\r\nconst ListRestaurant = {\r\n  async render() {\r\n    return `\r\n        <section>\r\n            <h2 tabindex=\"0\" id=\"maincontent\" class=\"text-center\">Explore Restaurant</h2>\r\n            <div id=\"content\"></div>\r\n        </section>\r\n    `;\r\n  },\r\n\r\n  async afterRender() {\r\n    const restaurants = await RestaurantApiSource.listRestaurant();\r\n    const restaurantsContainer = document.querySelector('#content');\r\n    restaurants.forEach((restaurant) => {\r\n      restaurantsContainer.innerHTML += createRestaurantItemTemplate(restaurant);\r\n    });\r\n  },\r\n\r\n  renderError() {\r\n    const restaurantsContainer = document.querySelector('#content');\r\n    restaurantsContainer.innerHTML = '<h4>Error saat memuat halaman.</h4>';\r\n  },\r\n};\r\n\r\nexport default ListRestaurant;\r\n","import CONFIG from '../../globals/config';\r\n\r\nconst createRestaurantMenuFoods = (restaurant) => {\r\n  const foods = document.querySelector('.foods');\r\n  foods.innerHTML = '<h4 class=\"text-center\">Makanan</h4>';\r\n  restaurant.menus.foods.forEach((element) => {\r\n    foods.innerHTML += `<p>${element.name}</p>`;\r\n  });\r\n};\r\n\r\nconst createRestaurantMenuDrinks = (restaurant) => {\r\n  const drinks = document.querySelector('.drinks');\r\n  drinks.innerHTML = '<h4 class=\"text-center\">Minuman</h4>';\r\n  restaurant.menus.drinks.forEach((element) => {\r\n    drinks.innerHTML += `<p>${element.name}</p>`;\r\n  });\r\n};\r\n\r\nconst createRestaurantCategories = (restaurant) => {\r\n  const information = document.querySelector('.information');\r\n  const paragraph = document.createElement('p');\r\n  restaurant.categories.forEach((element) => {\r\n    paragraph.innerText += `\"${element.name}\" `;\r\n  });\r\n  information.append(paragraph);\r\n};\r\n\r\nconst createCustomerReviewsBox = (restaurant) => {\r\n  const customerReviews = document.getElementById('customer-reviews');\r\n  restaurant.customerReviews.forEach((element) => {\r\n    customerReviews.innerHTML += `\r\n        <img src=\"images/assets/profile.jpg\" alt=\"foto profil ${element.name}\">\r\n        <div class=\"reviews mb-2\">\r\n            <p>${element.name}</p>\r\n            <p>${element.review}</p>\r\n            <p>${element.date}</p>\r\n        </div>\r\n    `;\r\n  });\r\n};\r\n\r\nconst createLikeRestaurantButtonTemplate = () => `\r\n  <button aria-label=\"suka restoran ini\" id=\"likeButton\" class=\"like\">\r\n     <i class=\"fa fa-heart-o\" aria-hidden=\"true\"></i>\r\n  </button>\r\n`;\r\n\r\nconst createUnlikeRestaurantButtonTemplate = () => `\r\n  <button aria-label=\"batal suka restoran ini\" id=\"likeButton\" class=\"like\">\r\n    <i class=\"fa fa-heart\" aria-hidden=\"true\"></i>\r\n  </button>\r\n`;\r\n\r\nconst createRestaurantDetailTemplate = (restaurant) => `\r\n        <h2 class=\"text-center restaurant__title\" tabindex=\"0\">${restaurant.name}</h2>\r\n        <div id=\"content-detail\">\r\n             <article tabindex=\"0\" class=\"mb-2\">\r\n                <div class=\"wrapper-information\">\r\n                    <picture>\r\n                      <source media=\"(max-width: 600px)\" srcset=\"${CONFIG.BASE_IMAGE_URL_SMALL + restaurant.pictureId}\">\r\n                      <img src=\"${CONFIG.BASE_IMAGE_URL_LARGE + restaurant.pictureId}\" alt=\"${restaurant.name}\">\r\n                    </picture>\r\n                    <div class=\"information\">\r\n                        <h4>Rating</h4>\r\n                        <p>⭐ ${restaurant.rating}</p>\r\n                        <h4>Kota</h4>\r\n                        <p>${restaurant.city}</p>\r\n                        <h4>Alamat</h4>\r\n                        <p>${restaurant.address}.</p>\r\n                        <h4>Kategori</h4>\r\n                    </div>\r\n                </div>\r\n            </article>\r\n            <article tabindex=\"0\" class=\"p-2 mb-2\">\r\n                <h3>Deskripsi Restoran</h3>\r\n                <p>${restaurant.description}</p>\r\n            </article>\r\n            <article tabindex=\"0\" class=\"p-2 mb-2\">\r\n                <h3 class=\"text-center\">Menu</h3>\r\n                <div id=\"menu-restaurant\">\r\n                    <div class=\"menus foods\"></div>\r\n                    <div class=\"menus drinks\"></div>\r\n                </div>\r\n            </article>\r\n            <article tabindex=\"0\" class=\"p-2 mb-2\">\r\n                <h3 class=\"mb-2\">Ulasan Pelanggan</h3>\r\n                <div id=\"customer-reviews\">\r\n                </div>\r\n            </article>\r\n            <article tabindex=\"0\" class=\"p-2 mb-2\">\r\n                <h3 class=\"mb-2\">Tambahkan Ulasan</h3>\r\n                <div class=\"review-wrapper\">\r\n                    <form>\r\n                        <label for=\"username\">Nama</label>\r\n                        <input aria-label=\"input username\" type=\"text\" id=\"username\" class=\"mb-2\" required>\r\n                        <label for=\"review\">Ulasan</label>\r\n                        <textarea aria-label=\"input review\" id=\"review\" rows=\"4\" class=\"mb-2\" required></textarea>\r\n                        <button aria-label=\"simpan review\" type=\"submit\" class=\"save\">Simpan</button>\r\n                    </form>\r\n                </div>\r\n            </article>\r\n        </div>\r\n    `;\r\n\r\nconst createRestaurantItemTemplate = (restaurant) => `\r\n        <article tabindex=\"0\" class=\"mb-2 restaurant-item\">\r\n            <picture>\r\n              <source media=\"(max-width: 600px)\" srcset=\"${CONFIG.BASE_IMAGE_URL_SMALL + restaurant.pictureId}\">\r\n              <img class=\"lazyload\" data-src=\"${CONFIG.BASE_IMAGE_URL_LARGE + restaurant.pictureId}\" alt=\"${restaurant.name}\">\r\n            </picture>\r\n            <div class=\"city\">${restaurant.city}</div>\r\n            <div class=\"description\">\r\n                <p class=\"rating\"><b>⭐ ${restaurant.rating}</b></p>\r\n                <a href=\"/#/detail/${restaurant.id}\">${restaurant.name}</a>\r\n                <div class=\"text\">\r\n                    <p class=\"hide\">${restaurant.description}</p>\r\n                </div>\r\n            </div>\r\n        </article>\r\n    `;\r\n\r\nexport {\r\n  createRestaurantDetailTemplate,\r\n  createRestaurantItemTemplate,\r\n  createRestaurantMenuFoods,\r\n  createRestaurantCategories,\r\n  createRestaurantMenuDrinks,\r\n  createCustomerReviewsBox,\r\n  createLikeRestaurantButtonTemplate,\r\n  createUnlikeRestaurantButtonTemplate,\r\n};\r\n"],"names":["i","button","drawer","content","header","this","_button","_drawer","_content","_header","_initialAppShell","DrawerInitiator","SearchInitiator","url","UrlParser","page","routes","document","querySelector","addEventListener","event","preventDefault","focus","render","innerHTML","afterRender","restaurantContainer","value","RestaurantApiSource","id","restaurant","createRestaurantDetailTemplate","LikeButtonPresenter","likeButtonContainer","favoriteRestaurants","FavoriteRestaurantIdb","name","description","pictureId","city","address","rating","createRestaurantMenuFoods","createRestaurantMenuDrinks","createRestaurantCategories","createCustomerReviewsBox","UserReview","window","location","reload","restaurants","length","restaurantsContainer","forEach","createRestaurantItemTemplate","renderError","foods","menus","element","drinks","information","paragraph","createElement","categories","innerText","append","customerReviews","getElementById","review","date","createLikeRestaurantButtonTemplate","createUnlikeRestaurantButtonTemplate","CONFIG"],"sourceRoot":""}